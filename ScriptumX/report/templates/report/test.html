{% extends "report/layout.html" %}
{% load staticfiles %}
{% load crispy_forms_tags %}

{% block content %}

{% if form %}

    <h1>{{title}}</h1>

    <h3>Select filter tags for list</h3>
    
    {% crispy form form.helper %}

{% else %}

    <h2>{{title}}.</h2>

    <table id="table" class="table table-striped table-hover table-fixed-head" data-table-fixed-head-trigger="0" data-table-fixed-head-top="0">

        <thead>
            <tr BGCOLOR="#DDDDDD">
                <th>Tags____</th>
                <th>Name</th>
                <th>Description</th>
            </tr>
        </thead>

        <tbody>
        {% for gadget in gadgets %}

            <tr>
                <td>
                    {% for tag in tag_list %}
                        {% cycle None gadget.tag1 gadget.tag2 gadget.tag3 gadget.tag4 gadget.tag5 gadget.tag6 gadget.tag7 gadget.tag8 gadget.tag9 gadget.tag10 gadget.tag11 as tag_visible silent %}
                        {% if tag_visible %}
                            <img style="margin-right:-14px;" src="{% static tag.img %}" />
                        {% endif %}
                    {% endfor %}
                </td>

                <td style="max-width:200px; white-space:nowrap; overflow:hidden; text-overflow: ellipsis;"><strong>{{gadget.name}}</strong></td>

                <td style="hyphens: auto;">{% autoescape off %}{{gadget.description|removetags:"a span"}}{% endautoescape %}</td>
            </tr>

        {% endfor %}
        </tbody>

    </table>

    <p>This is a test.</p>

{% endif %}

{% endblock %}
